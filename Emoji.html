<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Emoji Click Game</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    #emoji {
      position: absolute;
      font-size: 3rem;
      cursor: pointer;
      transition: transform 0.2s;
    }
    #game-container {
      position: relative;
      height: 400px;
    }
  </style>
</head>
<body class="bg-indigo-900 text-white flex items-center justify-center h-screen px-4">

  <div class="text-center space-y-4 max-w-md w-full">
    <h1 class="text-3xl font-bold">üòÄ Emoji Click Game</h1>
    
    <div id="start-screen" class="space-y-4">
      <button onclick="startGame()" class="bg-green-500 px-6 py-2 rounded hover:bg-green-600">Start Game</button>
    </div>

    <div id="game" class="hidden space-y-3">
      <div class="flex justify-between text-lg">
        <span>‚è± Time: <span id="time">20</span>s</span>
        <span>üéØ Score: <span id="score">0</span></span>
        <span>üèÜ High: <span id="highscore">0</span></span>
      </div>

      <div id="game-container" class="bg-white rounded-lg relative overflow-hidden">
        <div id="emoji">üéØ</div>
      </div>
    </div>

    <div id="game-over" class="hidden text-red-400 font-bold text-xl">
      Game Over! <br>
      <button onclick="startGame()" class="mt-3 bg-blue-500 px-5 py-2 rounded hover:bg-blue-600">Play Again</button>
    </div>
  </div>

  <script>
    const emoji = document.getElementById("emoji");
    const game = document.getElementById("game");
    const gameContainer = document.getElementById("game-container");
    const timeDisplay = document.getElementById("time");
    const scoreDisplay = document.getElementById("score");
    const highscoreDisplay = document.getElementById("highscore");
    const gameOver = document.getElementById("game-over");
    const startScreen = document.getElementById("start-screen");

    let score = 0;
    let time = 20;
    let timerInterval, moveInterval;

    function startGame() {
      score = 0;
      time = 20;
      scoreDisplay.textContent = 0;
      timeDisplay.textContent = 20;
      game.classList.remove("hidden");
      gameOver.classList.add("hidden");
      startScreen.classList.add("hidden");
      emoji.style.display = "block";

      moveEmoji();
      moveInterval = setInterval(moveEmoji, 800);
      timerInterval = setInterval(updateTime, 1000);
    }

    function updateTime() {
      time--;
      timeDisplay.textContent = time;
      if (time <= 0) endGame();
    }

    function endGame() {
      clearInterval(moveInterval);
      clearInterval(timerInterval);
      emoji.style.display = "none";
      gameOver.classList.remove("hidden");
      game.classList.add("hidden");

      // Update high score
      const high = localStorage.getItem("highscore") || 0;
      if (score > high) {
        localStorage.setItem("highscore", score);
      }
      highscoreDisplay.textContent = localStorage.getItem("highscore");
    }

    function moveEmoji() {
      const maxX = gameContainer.clientWidth - 50;
      const maxY = gameContainer.clientHeight - 50;
      const x = Math.random() * maxX;
      const y = Math.random() * maxY;
      emoji.style.left = x + "px";
      emoji.style.top = y + "px";
    }

    emoji.addEventListener("click", () => {
      score++;
      scoreDisplay.textContent = score;
      moveEmoji();
    });

    // Load highscore on page load
    highscoreDisplay.textContent = localStorage.getItem("highscore") || 0;
  </script>

</body>
</html>
